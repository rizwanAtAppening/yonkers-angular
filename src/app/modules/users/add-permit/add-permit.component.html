<app-layout>
    <router-outlet>
        
        <div class="streen-Box">
                <section class="bg-dashbord">
                        <div class="dash-back">
                        <div class="container p-0">
                            <div class="row">
                                <div class="col-12">
                                    <div class="back-txt m-0">
                                        <div class="row">
                                            <div class="col-12" routerLink = "/dashboard/permit">
                                                <h3><span><img src="assets/images/left-arrow.svg" alt=""></span> Back</h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                    </section>
            <div class="where-bg">
                <div class="job-location-Hd">
                    <h3>Multiple Street Opening Submission</h3>
                </div>
                <div class="location-type-tab">
                    <h3>Location Type</h3>
                </div>
                <div class="adrees-tab">
                    <nav>
                        <div class="nav" id="nav-tab" role="tablist">
                            <a (click)="selectAddress('exactAddress')"  [class]="location_type == 1 ?'nav-item active':'nav-item'"  id="nav-m-Exact-tab"
                                data-toggle="tab" href="#nav-m-Exact" role="tab" aria-controls="nav-m-Exact"
                                aria-selected="true">Exact Address</a>
                            <a (click)="selectAddress('location')"  [class]="location_type == 2 ?'nav-item active':'nav-item'"  id="nav-m-Location-tab"
                                data-toggle="tab" href="#nav-m-Location" role="tab" aria-controls="nav-m-Location"
                                aria-selected="false">Location</a>
                        </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                        <div [class]="location_type == 1?'tab-pane fade show active':'tab-pane fade'" id="nav-m-Exact" role="tabpanel"
                            aria-labelledby="nav-m-Exact-tab">

                            <div class="container p-0">
                                <form [formGroup]="permitForm">
                                    <div class="row color-input-border">
                                        <div class="col-6">
                                            <div class="bdp_email">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <input type="text" formControlName="address_id"  [typeahead]="address" (typeaheadOnSelect) = "typeaheadOnSelect($event,'exact','')"  (input) ="searchAddress('exact','')" [class]="permiControl.address_id.invalid && (permiControl.address_id.dirty || permiControl.address_id.touched || isPermit) ? 'form-control form-group-error' : 'form-control'" id="ms1"
                                                                class="form-control" required="">
                                                            <label    [class]="permiControl.address_id.invalid && (permiControl.address_id.dirty || permiControl.address_id.touched || isPermit) ? 'form-control-placeholder msg' : 'form-control-placeholder'"
                                                                for="ms1">Address</label>
                                                        </div>
                                                        <div
                                                        *ngIf="permiControl.address_id.invalid && (permiControl.address_id.dirty || permiControl.address_id.touched || isPermit)">
                                                        <p class="form-error" *ngIf="permiControl.address_id.errors['required']">
                                                            Please select address.
                                                        </p>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-6">
                                            <div class="bdp_email">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <input type="text" id="ms2" class="form-control"
                                                                required="">
                                                            <label class="form-control-placeholder"
                                                                for="ms2">SBL</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>



                                    <div class="row color-input-border">
                                        <div class="col-12">
                                            <div class="bdp_email ">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <input type="text" id="ms3" formControlName="also_know_as"
                                                                class="form-control" required="">
                                                            <label class="form-control-placeholder" for="ms3">Also known
                                                                as</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="row color-input-border">
                                        <div class="col-6">
                                            <div class="bdp_email ">
                                                <div class="row">
                                                        <!-- (input) ="fillDataByLayOutNumber()"  -->
                                                    <div class="col-12 ">
                                                        <div class="form-group">

                                                            <input type="text" id="ms4" formControlName="layout" (input)="fillDataByLayOutNumber('')" [typeahead]="allLayOutNumber" (typeaheadOnSelect) = "fillDataByLayOutNumber($event)" [class]="permiControl.layout.invalid && (permiControl.layout.dirty || permiControl.layout.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                class="form-control" required="">
                                                            <label  [class]="permiControl.layout.invalid && (permiControl.layout.dirty || permiControl.layout.touched || isPermit) ? 'form-control-placeholder msg' : 'form-control-placeholder'" class="form-control-placeholder" for="ms4">Layout
                                                                No</label>
                                                        </div>
                                                        <div
                                                        *ngIf="permiControl.layout.invalid && (permiControl.layout.dirty || permiControl.layout.touched || isPermit)">
                                                        <p class="form-error" *ngIf="permiControl.layout.errors['required']">
                                                            Please select layout.
                                                        </p>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-6">
                                            <div class="bdp_email sub-oppining">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="form-group">
                                                            <label [class]="permiControl.type.invalid && (permiControl.type.dirty || permiControl.type.touched || isPermit) ? 'msg' : ''">Permit Type</label>
                                                            <select formControlName="type" [class]="permiControl.type.invalid && (permiControl.type.dirty || permiControl.type.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                <option value="" hidden> --Select--</option>
                                                                <option value="{{type?.key}}"
                                                                    *ngFor="let type of settings?.type">
                                                                    {{type?.value}}
                                                                </option>
                                                            </select>
                                                            <span><i class="fa fa-angle-down"
                                                                    aria-hidden="true"></i></span>
                                                                    <div
                                                                    *ngIf="permiControl.type.invalid && (permiControl.type.dirty || permiControl.type.touched || isPermit)">
                                                                    <p class="form-error" *ngIf="permiControl.type.errors['required']">
                                                                        Please select type.
                                                                    </p>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row color-input-border">
                                        <div class="col-6">
                                            <div class="bdp_email sub-oppining">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="form-group">
                                                            <label [class]="permiControl.purpose.invalid && (permiControl.purpose.dirty || permiControl.purpose.touched || isPermit) ? 'msg' : ''">Purpose</label>
                                                            <select formControlName="purpose" [class]="permiControl.purpose.invalid && (permiControl.purpose.dirty || permiControl.purpose.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                <option value="" hidden> --Select--</option>
                                                                <option value="{{type?.key}}"
                                                                    *ngFor="let type of settings?.purpose">
                                                                    {{type?.value}}
                                                                </option>
                                                            </select>
                                                            <span><i class="fa fa-angle-down"
                                                                    aria-hidden="true"></i></span>
                                                        </div>
                                                        <div
                                                        *ngIf="permiControl.purpose.invalid && (permiControl.purpose.dirty || permiControl.purpose.touched || isPermit)">
                                                        <p class="form-error" *ngIf="permiControl.type.errors['required']">
                                                            Please select purpose.
                                                        </p>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="bdp_email sub-oppining">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="form-group">
                                                            <label [class]="permiControl.traffic_control.invalid && (permiControl.traffic_control.dirty || permiControl.traffic_control.touched || isPermit) ? 'msg' : ''">Will this work impect traffic control</label>
                                                            <select formControlName="traffic_control" [class]="permiControl.traffic_control.invalid && (permiControl.traffic_control.dirty || permiControl.traffic_control.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                <option value=" " hidden> --Select--</option>
                                                                <option value="{{type?.key}}"
                                                                    *ngFor="let type of settings?.traffic">
                                                                    {{type?.value}}
                                                                </option>
                                                            </select>
                                                            <span><i class="fa fa-angle-down"
                                                                    aria-hidden="true"></i></span>
                                                                    <div
                                                                    *ngIf="permiControl.traffic_control.invalid && (permiControl.traffic_control.dirty || permiControl.traffic_control.touched || isPermit)">
                                                                    <p class="form-error" *ngIf="permiControl.type.errors['required']">
                                                                        Please select traffic_control.
                                                                    </p>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row color-input-border">
                                        <div class="col-6">
                                            <div class="bdp_email ">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <input type="text" formControlName="length" id="ms1"
                                                                class="form-control" required="">
                                                            <label class="form-control-placeholder"
                                                                for="ms1">Length</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-6">
                                            <div class="bdp_email ">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <input type="text" formControlName="width" id="ms1"
                                                                class="form-control" required="">
                                                            <label class="form-control-placeholder"
                                                                for="ms1">Width</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>


                                    <div class="row color-input-border">
                                        <div class="col-6">
                                            <div class="bdp_email">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="form-group">

                                                            <input type="text" id="ms5" formControlName="start_date"
                                                                class="form-control" #dp1="bsDatepicker" bsDatepicker [class]="permiControl.start_date.invalid && (permiControl.start_date.dirty || permiControl.start_date.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                required="">
                                                            <label [class]="permiControl.start_date.invalid && (permiControl.start_date.dirty || permiControl.start_date.touched || isPermit) ? 'msg form-control-placeholder' : 'form-control-placeholder'"for="ms5">Start
                                                                Date</label>

                                                            <span class="icon-calander" (click)="dp1.toggle()"><i
                                                                    class="fa fa-calendar"
                                                                    aria-hidden="true"></i></span>
                                                                    <div
                                                                    *ngIf="permiControl.start_date.invalid && (permiControl.start_date.dirty || permiControl.start_date.touched || isPermit)">
                                                                    <p class="form-error" *ngIf="permiControl.start_date.errors['required']">
                                                                        Please select date.
                                                                    </p>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="bdp_email">
                                                <div class="row">
                                                    <div class="col-12">
                                                        
                                                        <div class="form-group">

                                                                <input type="text" id="ms55" formControlName="end_date"
                                                                    class="form-control" #dp="bsDatepicker" bsDatepicker [class]="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                    required="">
                                                                <label [class]="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit) ? 'msg form-control-placeholder' : 'form-control-placeholder'" for="ms55">End
                                                                    Date</label>
    
                                                                <span class="icon-calander" (click)="dp.toggle()"><i
                                                                        class="fa fa-calendar"
                                                                        aria-hidden="true"></i></span>
                                                                        <div
                                                                        *ngIf="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit)">
                                                                        <p class="form-error" *ngIf="permiControl.end_date.errors['required']">
                                                                            Please select date.
                                                                        </p>
                                                                    </div>
                                                            </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="Detailed-txt">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <label [class]="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit) ? 'msg' : ''">Detailed Description</label>
                                                            <textarea formControlName="description" [class]="permiControl.description.invalid && (permiControl.description.dirty || permiControl.description.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                placeholder="Type something here..."></textarea>
                                                        </div>
                                                        <div
                                                        *ngIf="permiControl.description.invalid && (permiControl.description.dirty || permiControl.description.touched || isPermit)">
                                                        <p class="form-error" *ngIf="permiControl.description.errors['required']">
                                                            Please enter description.
                                                        </p>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </form>
                            </div>

                            <div class=" new-UploadBox discprection-Box">
                                <div class="container p-0">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="img-upload-tbl">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th>File Type</th>
                                                            <th>Names</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor = "let image of allImage; let i = index">
                                                            <td>
                                                               
                                                                <div class="file_slect-input">
                                                                    <div class="form-group">
                                                                        <select (change) = "selectImageType($event.target.value)">
                                                                            <option value="" hidden>--Select--</option>
                                                                            <option value="{{type?.key}}" *ngFor ="let type of settings?.imageType">{{type?.value}}</option>
                                                                        </select>
                                                                        <span><i class="fa fa-angle-down"
                                                                                aria-hidden="true"></i></span>
                                                                    </div>
                                                                </div>


                                                            </td>
                                                            <td class="upload-Btn">
                                                                <button *ngIf ="!image?.imageName && !image?.name">
                                                                    <span><img src="assets/images/b-upload.svg"
                                                                            alt=""></span> Upload file
                                                                    <input type="file" (change)="media($event,i)">
                                                                </button>
                                                                <p *ngIf ="image?.imageName || image?.name">{{image?.imageName ? image?.imageName : image?.name}}</p>
                                                            </td>
                                                            <td class="acton-Btn">
                                                                <!-- <button> <span
                                                                    target="_blank"><img src="assets/images/v-btn.svg"
                                                                            alt=""></span> View</button> -->
                                                                <button *ngIf ="image?.imageName || image?.name" class="delet-btn" (click) ="deleteImage(i)"> <span><img
                                                                            src="assets/images/d-btn.svg"  alt=""></span>
                                                                    Delete</button>
                                                                    <p *ngIf ="!image?.imageName && !image?.name"> _ </p>
                                                            </td>

                                                        </tr>
                                                        

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="more-txt" (click) ="addMoreImage()">
                                                <span>+</span> Add more Document
                                            </div>
                                        </div>

                                    </div>

                                    <div class="btn-pre">

                                        <button class="continue mr-0" type="submit" (click)="addPermitApplication()">Add
                                            to list</button>
                                    </div>

                                </div>

                            </div>


                        </div>
                        <div [class]="location_type == 2?'tab-pane fade show active':'tab-pane fade'"  id="nav-m-Location" role="tabpanel"
                            aria-labelledby="nav-m-Location-tab">
                            <div class="container p-0">
                                <form [formGroup]="permitForm">
                                    <div *ngFor="let addloc of addLocationControls.controls; let i = index">
                                        <form [formGroup]="addloc">
                                            <div class="row color-input-border">
                                                <!-- <form [formGroup]="addloc"> -->
                                                <div class="col-4">
                                                    <div class="bdp_email ">
                                                        <div class="row">
                                                            <div class="col-12 ">
                                                                <div class="form-group">
                                                                    <input type="text" id="ms7"
                                                                        formControlName="street_one"  [typeahead]="addressOne" (input) ="searchAddress('location',i)"
                                                                        [class]="addloc.controls.street_one.invalid && (addloc.controls.street_one.dirty || addloc.controls.street_one.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                        required="">
                                                                    <label class="form-control-placeholder"
                                                                        for="ms7">Street
                                                                        one </label>
                                                                </div>
                                                                <div
                                                                *ngIf="addloc.controls.street_one.invalid && (addloc.controls.street_one.dirty || addloc.controls.street_one.touched || isPermit)">
                                                                <p class="form-error" *ngIf="addloc.controls.street_one.errors['required']">
                                                                    Please enter street one.
                                                                </p>
                                                            </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-3 street-slcTxt">
                                                    <div class="bdp_email sub-oppining">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <div class="form-group">
                                                                    <label></label>
                                                                    <select formControlName="address_join"   [class]="addloc.controls.address_join.invalid && (addloc.controls.address_join.dirty || addloc.controls.address_join.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                        <option value="" hidden>
                                                                            --Select--
                                                                        </option>
                                                                        <option value="{{category?.key}}"
                                                                            *ngFor="let category of settings?.address_join">
                                                                            {{category?.value}}
                                                                        </option>
                                                                    </select>
                                                                    <span><i class="fa fa-angle-down"
                                                                            aria-hidden="true"></i></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-4">
                                                    <div class="bdp_email">
                                                        <div class="row">
                                                            <div class="col-12 ">
                                                                <div class="form-group">
                                                                    <input type="text" id="ms8"  formControlName="street_two" [typeahead]="addressTwo" (input) ="searchAddress('locationtwo',i)"    [class]="addloc.controls.street_two.invalid && (addloc.controls.street_two.dirty || addloc.controls.street_two.touched || isPermit) ? 'form-control form-group-error' : 'form-control'" class="form-control"
                                                                        required="">
                                                                    <label class="form-control-placeholder"
                                                                        for="ms8">Street
                                                                        two</label>
                                                                </div>
                                                                <div
                                                                *ngIf="addloc.controls.street_two.invalid && (addloc.controls.street_two.dirty || addloc.controls.street_two.touched || isPermit)">
                                                                <p class="form-error" *ngIf="addloc.controls.street_two.errors['required']">
                                                                    Please enter street two.
                                                                </p>
                                                            </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-1 mt-5">
                                                    
                                                        <div class="add-moreTxt mt-1" *ngIf="i > 0" (click)="remove(i)">
                                                            <div class="btn-add-delet">
                                                           <button>Delete</button>
                                                        </div> 
                                                        </div>
                                                    </div>
                                               
                                                

                                             
                                                <!-- </form> -->
                                            </div>
                                        </form>

                                    </div>
                                    <!-- <div class="plus-moretxt" (click)="addLocationForm()">
                                         <span>+</span> Add more
                                        </div> -->
                             <div class="row color-input-border">
                                 <div class="col-12">
                                    <div class="btn-add-more" (click)="addLocationForm()" >+ &nbsp; Add more</div>
                                 </div>
                             </div>          

                                    <div class="row color-input-border">
                                        <div class="col-12 mt-4">
                                            <div class="bdp_email mt-0">
                                                <div class="row">
                                                    <div class="col-12 ">
                                                        <div class="form-group">
                                                            <input type="text" id="ms3" formControlName="also_know_as"
                                                                class="form-control" required="">
                                                            <label class="form-control-placeholder" for="ms3">Also known
                                                                as</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="row color-input-border">
                                            <div class="col-6">
                                                <div class="bdp_email ">
                                                    <div class="row">
                                                        <div class="col-12 ">
                                                            <div class="form-group">
                                                                <input type="text" id="ms4" formControlName="layout" (input) ="fillDataByLayOutNumber('')" [class]="permiControl.layout.invalid && (permiControl.layout.dirty || permiControl.layout.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                    class="form-control" required="">
                                                                <label  [class]="permiControl.layout.invalid && (permiControl.layout.dirty || permiControl.layout.touched || isPermit) ? 'form-control-placeholder msg' : 'form-control-placeholder'" class="form-control-placeholder" for="ms4">Layout
                                                                    No</label>
                                                            </div>
                                                            <div
                                                            *ngIf="permiControl.layout.invalid && (permiControl.layout.dirty || permiControl.layout.touched || isPermit)">
                                                            <p class="form-error" *ngIf="permiControl.layout.errors['required']">
                                                                Please select layout.
                                                            </p>
                                                        </div>
                                                        </div>
                                                    </div>
                                                </div>
    
                                            </div>
                                            <div class="col-6">
                                                <div class="bdp_email sub-oppining">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <label [class]="permiControl.type.invalid && (permiControl.type.dirty || permiControl.type.touched || isPermit) ? 'msg' : ''">Permit Type</label>
                                                                <select formControlName="type" [class]="permiControl.type.invalid && (permiControl.type.dirty || permiControl.type.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                    <option value="" hidden> --Select--</option>
                                                                    <option value="{{type?.key}}"
                                                                        *ngFor="let type of settings?.type">
                                                                        {{type?.value}}
                                                                    </option>
                                                                </select>
                                                                <span><i class="fa fa-angle-down"
                                                                        aria-hidden="true"></i></span>
                                                                        <div
                                                                        *ngIf="permiControl.type.invalid && (permiControl.type.dirty || permiControl.type.touched || isPermit)">
                                                                        <p class="form-error" *ngIf="permiControl.type.errors['required']">
                                                                            Please select type.
                                                                        </p>
                                                                    </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
    
    
                                        <div class="row color-input-border">
                                            <div class="col-6">
                                                <div class="bdp_email sub-oppining">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <label [class]="permiControl.purpose.invalid && (permiControl.purpose.dirty || permiControl.purpose.touched || isPermit) ? 'msg' : ''">Purpose</label>
                                                                <select formControlName="purpose" [class]="permiControl.purpose.invalid && (permiControl.purpose.dirty || permiControl.purpose.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                    <option value="" hidden> --Select--</option>
                                                                    <option value="{{type?.key}}"
                                                                        *ngFor="let type of settings?.purpose">
                                                                        {{type?.value}}
                                                                    </option>
                                                                </select>
                                                                <span><i class="fa fa-angle-down"
                                                                        aria-hidden="true"></i></span>
                                                            </div>
                                                            <div
                                                            *ngIf="permiControl.purpose.invalid && (permiControl.purpose.dirty || permiControl.purpose.touched || isPermit)">
                                                            <p class="form-error" *ngIf="permiControl.type.errors['required']">
                                                                Please select purpose.
                                                            </p>
                                                        </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="bdp_email sub-oppining">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <label [class]="permiControl.traffic_control.invalid && (permiControl.traffic_control.dirty || permiControl.traffic_control.touched || isPermit) ? 'msg' : ''">Will this work impect traffic control</label>
                                                                <select formControlName="traffic_control" [class]="permiControl.traffic_control.invalid && (permiControl.traffic_control.dirty || permiControl.traffic_control.touched || isPermit) ? 'form-control form-group-error' : 'form-control'">
                                                                    <option value=" " hidden> --Select--</option>
                                                                    <option value="{{type?.key}}"
                                                                        *ngFor="let type of settings?.traffic">
                                                                        {{type?.value}}
                                                                    </option>
                                                                </select>
                                                                <span><i class="fa fa-angle-down"
                                                                        aria-hidden="true"></i></span>
                                                                        <div
                                                                        *ngIf="permiControl.traffic_control.invalid && (permiControl.traffic_control.dirty || permiControl.traffic_control.touched || isPermit)">
                                                                        <p class="form-error" *ngIf="permiControl.type.errors['required']">
                                                                            Please select traffic_control.
                                                                        </p>
                                                                    </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
    
    
                                        <div class="row color-input-border">
                                            <div class="col-6">
                                                <div class="bdp_email ">
                                                    <div class="row">
                                                        <div class="col-12 ">
                                                            <div class="form-group">
                                                                <input type="text" formControlName="length" id="ms1"
                                                                    class="form-control" required="">
                                                                <label class="form-control-placeholder"
                                                                    for="ms1">Length</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
    
                                            </div>
                                            <div class="col-6">
                                                <div class="bdp_email ">
                                                    <div class="row">
                                                        <div class="col-12 ">
                                                            <div class="form-group">
                                                                <input type="text" formControlName="width" id="ms1"
                                                                    class="form-control" required="">
                                                                <label class="form-control-placeholder"
                                                                    for="ms1">Width</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
    
                                            </div>
                                        </div>
    
    
                                        <div class="row color-input-border">
                                            <div class="col-6">
                                                <div class="bdp_email">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-group">
    
                                                                <input type="text" id="ms5" formControlName="start_date"
                                                                    class="form-control" #permitstart="bsDatepicker" bsDatepicker [class]="permiControl.start_date.invalid && (permiControl.start_date.dirty || permiControl.start_date.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                    required="">
                                                                <label [class]="permiControl.start_date.invalid && (permiControl.start_date.dirty || permiControl.start_date.touched || isPermit) ? 'msg form-control-placeholder' : 'form-control-placeholder'"for="ms5">Start
                                                                    Date</label>
    
                                                                <span class="icon-calander" (click)="permitstart.toggle()"><i
                                                                        class="fa fa-calendar"
                                                                        aria-hidden="true"></i></span>
                                                                        <div
                                                                        *ngIf="permiControl.start_date.invalid && (permiControl.start_date.dirty || permiControl.start_date.touched || isPermit)">
                                                                        <p class="form-error" *ngIf="permiControl.start_date.errors['required']">
                                                                            Please select date.
                                                                        </p>
                                                                    </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="bdp_email">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            
                                                            <div class="form-group">
    
                                                                    <input type="text" id="ms5" formControlName="end_date"
                                                                        class="form-control" #permitend="bsDatepicker" bsDatepicker [class]="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                        required="">
                                                                    <label [class]="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit) ? 'msg form-control-placeholder' : 'form-control-placeholder'" for="ms5">End
                                                                        Date</label>
        
                                                                    <span class="icon-calander" (click)="permitend.toggle()"  aria-hidden="true" ><i
                                                                            class="fa fa-calendar"
                                                                            aria-hidden="true"></i></span>
                                                                            <div
                                                                            *ngIf="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit)">
                                                                            <p class="form-error" *ngIf="permiControl.end_date.errors['required']">
                                                                                Please select date.
                                                                            </p>
                                                                        </div>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
    
                                        <div class="Detailed-txt">
                                            <div class="row color-input-border">
                                                <div class="col-12">
                                                    <div class="row">
                                                        <div class="col-12 ">
                                                            <div class="form-group">
                                                                <label [class]="permiControl.end_date.invalid && (permiControl.end_date.dirty || permiControl.end_date.touched || isPermit) ? 'msg' : ''">Detailed Description</label>
                                                                <textarea formControlName="description" [class]="permiControl.description.invalid && (permiControl.description.dirty || permiControl.description.touched || isPermit) ? 'form-control form-group-error' : 'form-control'"
                                                                    placeholder="Type something here..."></textarea>
                                                            </div>
                                                            <div
                                                            *ngIf="permiControl.description.invalid && (permiControl.description.dirty || permiControl.description.touched || isPermit)">
                                                            <p class="form-error" *ngIf="permiControl.description.errors['required']">
                                                                Please enter description.
                                                            </p>
                                                        </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>



                                </form>
                            </div>

                            <div class=" new-UploadBox discprection-Box">
                                    <div class="container p-0">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="img-upload-tbl">
                                                    <table class="table">
                                                        <thead>
                                                            <tr>
                                                                <th>File Type</th>
                                                                <th>Names</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor = "let image of allImage; let i = index">
                                                                <td>
                                                                  
                                                                    <div class="file_slect-input">
                                                                        <div class="form-group">
                                                                            <select (change) = "selectImageType($event.target.value)">
                                                                                <option value="" hidden>--Select--</option>
                                                                                <option value="{{type?.key}}" *ngFor ="let type of settings?.imageType">{{type?.value}}</option>
                                                                            </select>
                                                                            <span><i class="fa fa-angle-down"
                                                                                    aria-hidden="true"></i></span>
                                                                        </div>
                                                                    </div>
    
    
                                                                </td>
                                                                <td class="upload-Btn">
                                                                    <button *ngIf ="!image?.imageName && !image?.name">
                                                                        <span><img src="assets/images/b-upload.svg"
                                                                                alt=""></span> Upload file1
                                                                        <input type="file" (change)="media($event,i)">
                                                                    </button>
                                                                    <p *ngIf ="image?.imageName || image?.name">{{image?.imageName ? image?.imageName : image?.name}}</p>
                                                                </td>
                                                                <td class="acton-Btn">
                                                                    <!-- <button> <span
                                                                        target="_blank"><img src="assets/images/v-btn.svg"
                                                                                alt=""></span> View</button> -->
                                                                    <button *ngIf ="image?.imageName || image?.name" class="delet-btn" (click) ="deleteImage(i)"> <span><img
                                                                                src="assets/images/d-btn.svg"  alt=""></span>
                                                                        Delete</button>
                                                                </td>
    
                                                            </tr>
                                                            
    
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="more-txt" (click) ="addMoreImage()">
                                                    <span>+</span> Add more Document
                                                </div>
                                            </div>
    
                                        </div>
    
                                        <div class="btn-pre" >
    
                                            <button *ngIf = "!applicationId" class="continue mr-0" type="submit" (click)="addPermitApplication()">Add
                                                to list</button>
                                                <button *ngIf = "applicationId" class="continue mr-0" type="submit" (click)="addPermitApplication()">Submit
                                                        </button>
                                        </div>
    
                                    </div>
    
                                </div>

                        </div>

                    </div>
                </div>



            </div>
        </div>


        <section class="box-work-daily-2 layout-box" *ngIf ="!applicationId">
            <div class="row">
                <div class="col-12">
                    <div class="table-permit  mt-0">
                        <table class="table table-bordered ">
                            <thead>
                                <tr>
                                    <th>Address</th>
                                    <th>layout No</th>
                                    <th>Type</th>
                                    <th>Start Date</th>
                                    <th>Action</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor ="let data of dwlApplication	">
                                        <td >
                                                <p *ngIf ="data?.address_id && data?.location_type == 1">                                                         {{data?.address_details?.szFullAddress}}
                                                   </p>
                                                <h6  *ngIf ="data?.isSingleAddress && data?.location_type == 2" >
                                                    <p *ngIf ="data?.location && data?.location.length > 0" >{{data?.location[0]?.street_one}} {{data.location[0]?.address_join == 1 ? 'To':'End'}} {{data.location[0]?.street_two}}</p></h6>

                                                    <h6  *ngIf ="data?.location_type == 2 && !data.isSingleAddress" >
                                                           <p *ngFor ="let location of data?.location " >{{location?.street_one}} {{location?.address_join == 1 ? 'To':'End'}} {{location?.street_two}} </p></h6>
                                                   <strong class="pointer" (click) = "showMoreLocation(false,data?.id)" *ngIf ="data?.location_type == 2 && data.isSingleAddress && data?.location.length > 1 ">Show More</strong>
                                                   <strong class="pointer" (click) = "showMoreLocation(true,data?.id)"  *ngIf ="data?.location_type == 2 && !data.isSingleAddress && data?.location.length > 1 ">Show Less</strong>


                                           </td>
                                    <td>{{data?.project_detail?.layout_number ? data?.project_detail?.layout_number:'_'}}</td>
                                    <td>            {{ settings?.getSetting('type',data?.type)}}
                                        </td>
                                    <td>{{data?.project_detail?.start_date | date}}</td>

                                    <td class="update-txt dropdown-action">
                                        <span> <i class="fa fa-angle-down" aria-hidden="true"></i></span>
                                        <div class="dropdown-contentable">
                                            <a (click) ="editAppliction(data)">Edit</a>
                                            <a (click) ="deleteApplication(data?.id)">Delete</a>
                                            <div class="triangle-left"></div>
                                        </div>
                                    </td>
                                </tr>


                            </tbody>
                        </table>
                    </div>
                    <div class="btn-pre">
                        <button class="continue mr-0" (click) = "submitDailyWorkLocation()">Submit</button>
                    </div>
                </div>

            </div>

        </section>


        <!-- Button trigger modal -->


        <!-- Modal -->
        <div class="modal fade" id="delete_application" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered delet-modal" role="document">
                <div class="modal-content app-content">

                    <div class="soure-delete-txt">
                        <h3>Delete Application</h3>
                        <h4>Are you sure you want to Delete Application</h4>
                    </div>


                    <div class="modal-footer p-0 border-0">
                        <button type="button" class="secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="primary">Confirme</button>
                    </div>


                </div>
            </div>
        </div>

    </router-outlet>
</app-layout>